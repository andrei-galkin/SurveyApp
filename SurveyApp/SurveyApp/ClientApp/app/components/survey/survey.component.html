<h1>Customer Satisfaction Survey</h1>

<p>Please unswer the survey.</p>

<p *ngIf="!questions"><em>Loading...</em></p>

<form #form="ngForm" (ngSubmit)="submit(form.value)">

    <div *ngIf="questions">
        <p *ngFor="let question of questions">
            {{ question.id }}. {{question.text}} <br />
            <span *ngFor="let opt of question.options">

                <div *ngIf="(question.type == 1)">
                    <label>{{opt}} </label>
                    <input type="radio" value="{{opt}}" id="q_{{ question.id }}" name="q_{{ question.id }}" ngModel>
                </div>
                <div *ngIf="(question.type == 2)">
                    <label>{{opt}} </label>
                    <input type="checkbox" id="q_{{ question.id }}" name="q_{{ question.id }}" ngModel>
                </div>
                <div *ngIf="(question.type == 3)">
                    <div class="textarea">
                        <textarea class="form-control" rows="5" id="q_{{ question.id }}" name="q_{{ question.id }}" ngModel></textarea>
                    </div>
                </div>
            </span>

        </p>
    </div>

    <button type="submit">Submit</button>
</form>

